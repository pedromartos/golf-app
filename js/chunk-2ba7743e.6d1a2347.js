(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ba7743e"],{"1f8f":function(s,t,e){},aed9:function(s,t,e){"use strict";var o=e("1f8f"),a=e.n(o);a.a},e898:function(s,t,e){"use strict";e.r(t);var o=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"view-group"}},[e("section",{staticClass:"header"},[e("h1",[s._v("Managing group: "+s._s(s.group.name))]),e("p",{staticClass:"lead"},[s._v("\n      Move/Zoom the images\n\n      "),e("b-button",{staticClass:"toggle-gestures",attrs:{variant:s.isEnabled?"primary":"",size:"sm"},on:{click:s.toggleGestures}},[s._v("\n        Move/Zoom: "+s._s(s.isEnabled?"ON":"OFF")+"\n      ")])],1)]),s.group.images?e("section",{staticClass:"body"},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.group.images.length>0,expression:"group.images.length > 0"}],staticClass:"adjust-images"},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[s._v("\n          Zoom:\n        ")]),e("b-col",{attrs:{cols:"12"}},[e("b-form-input",{attrs:{type:"range",min:"0.1",max:"2",step:"0.001"},model:{value:s.group.zoom,callback:function(t){s.$set(s.group,"zoom",t)},expression:"group.zoom"}})],1)],1),e("b-row",{staticClass:"images px-1 px-md-3",attrs:{id:"gallery"}},s._l(s.group.images,(function(t,o){return e("b-col",{key:o,staticClass:"img px-0",attrs:{cols:"12",md:"4"}},[e("b-img",{directives:[{name:"hammer",rawName:"v-hammer:pinch",value:s.zoomImg,expression:"zoomImg",arg:"pinch"},{name:"hammer",rawName:"v-hammer:pan",value:s.dragImg,expression:"dragImg",arg:"pan"},{name:"hammer",rawName:"v-hammer:panstart",value:s.initDrag,expression:"initDrag",arg:"panstart"}],style:s.imageStyles,attrs:{src:t,id:"img-"+o}})],1)})),1)],1)]):s._e(),e("section",{staticClass:"footer top-spaced-border"},[e("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:s.saveGroup}},[e("fa-icon",{attrs:{icon:"save"}}),s._v("\n      Save Group\n    ")],1)],1)])},a=[],i={name:"ViewGroup",props:["groupId"],data:function(){return{group:{},mousePos:{},isEnabled:!0}},computed:{imageStyles:function(){const s=this.group.videoDimensions.width;return{width:`${Math.ceil(s*this.group.zoom)}px`,top:`${this.group.position.top}px`,left:`${this.group.position.left}px`}}},methods:{toggleGestures:function(){const s=document.querySelectorAll(".img");s.forEach(s=>{this.isEnabled?s.classList.add("disabled"):s.classList.remove("disabled")}),this.isEnabled=!this.isEnabled},zoomImg:function(s){s.scale>1?this.group.zoom=1*this.group.zoom+s.scale/1e3:this.group.zoom=1*this.group.zoom-(1-s.scale)/100},initDrag:function(s){this.mousePos.prevX=s.changedPointers[0].pageX,this.mousePos.prevY=s.changedPointers[0].pageY},dragImg:function(s){s.preventDefault();const t=s.target;this.mousePos.curX=this.mousePos.prevX-s.changedPointers[0].pageX,this.mousePos.curY=this.mousePos.prevY-s.changedPointers[0].pageY,this.mousePos.prevX=s.changedPointers[0].pageX,this.mousePos.prevY=s.changedPointers[0].pageY,this.startDrag(t)},startDrag:function(s){const t={};t.top=s.offsetTop-this.mousePos.curY,t.left=s.offsetLeft-this.mousePos.curX,this.group.position=t;const e=document.querySelectorAll(".images .img img");e.forEach(s=>{s.style.top=t.top+"px",s.style.left=t.left+"px"})},saveGroup:function(){this.$store.dispatch("imageGroup/saveGroup",this.group).then(s=>{this.$bvToast.toast(s.msg,{title:s.status})})}},created:function(){this.$store.getters["imageGroup/getGroup"](this.groupId).then(s=>{this.group={id:s.id,...s.properties},void 0===this.group.position&&(this.group.position={})})}},r=i,n=(e("aed9"),e("2877")),p=Object(n["a"])(r,o,a,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2ba7743e.6d1a2347.js.map