(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-844dda60"],{b6b9:function(t,e,i){},c5dd:function(t,e,i){"use strict";var o=i("b6b9"),a=i.n(o);a.a},fec6:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"new-group"}},[t._m(0),i("section",{staticClass:"body"},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[t._v("Select a video")]),i("b-col",{attrs:{cols:"12"}},[i("b-form-file",{model:{value:t.videoFile,callback:function(e){t.videoFile=e},expression:"videoFile"}})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:Boolean(t.videoFile),expression:"Boolean(videoFile)"}]},[i("b-row",{staticClass:"video-player"},[i("b-col",{attrs:{cols:"12",md:"5"}},[i("video",{attrs:{id:"video"},on:{loadedmetadata:t.getVideoData}},[i("source",{attrs:{id:"video-source"}})])])],1),i("b-row",{staticClass:"video-control"},[i("b-col",{attrs:{cols:"12",md:"5"}},[i("b-row",[i("b-button-group",{staticClass:"col-12",attrs:{size:"sm"}},[i("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.seek(-5)}}},[i("fa-icon",{attrs:{icon:"fast-backward"}})],1),i("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.seek(-.05)}}},[i("fa-icon",{attrs:{icon:"step-backward"}})],1),i("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.seek(.05)}}},[i("fa-icon",{attrs:{icon:"step-forward"}})],1),i("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.seek(5)}}},[i("fa-icon",{attrs:{icon:"fast-forward"}})],1)],1)],1),i("b-row",[i("b-button-group",{staticClass:"col-6",attrs:{size:"sm"}},[i("b-button",{attrs:{variant:"primary"},on:{click:t.play}},[t.isPaused?i("span",[i("fa-icon",{attrs:{icon:["far","play-circle"]}}),t._v("\n                  Play\n                ")],1):i("span",[i("fa-icon",{attrs:{icon:["far","pause-circle"]}}),t._v("\n                  Pause\n                ")],1)])],1),i("b-button-group",{staticClass:"col-6",attrs:{size:"sm"}},[i("b-button",{attrs:{variant:"primary"},on:{click:t.saveFrame}},[i("fa-icon",{attrs:{icon:["far","image"]}}),t._v("\n                Take Screenshot\n              ")],1)],1)],1)],1)],1)],1),t.group.images.length?i("div",{staticClass:"preview-group top-spaced-border"},[i("h5",[t._v("Group Preview")]),i("b-form-group",{attrs:{label:"Name:","label-for":"name"}},[i("b-form-input",{attrs:{id:"name",type:"text",required:""},model:{value:t.group.name,callback:function(e){t.$set(t.group,"name",e)},expression:"group.name"}})],1),i("div",{staticClass:"d-block"},[t._v("Images:")]),i("b-row",{attrs:{"no-gutters":""}},t._l(t.group.images,(function(t,e){return i("b-col",{key:e,attrs:{cols:"6",md:"3"}},[i("b-img",{attrs:{src:t}})],1)})),1)],1):t._e()],1),t.group.images.length?i("section",{staticClass:"footer top-spaced-border"},[i("b-button",{attrs:{variant:"primary",size:"lg",disabled:!t.isValid},on:{click:t.saveGroup}},[i("fa-icon",{attrs:{icon:"save"}}),t._v("\n      Save Group\n    ")],1)],1):t._e()])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"header"},[i("h1",[t._v("New image group")]),i("p",{staticClass:"lead"},[t._v("Select a video file and take screenshots")])])}],s={name:"NewGroup",data:function(){return{videoNode:null,isPaused:!0,videoFile:null,group:{name:"",images:[],videoDimensions:{}}}},computed:{isValid:function(){return this.group.images.length>0&&""!=this.group.name}},watch:{videoFile:function(t){console.log(t);const e=document.getElementById("video-source");e.src=URL.createObjectURL(t),e.parentNode.load()}},methods:{saveGroup:function(){this.$store.dispatch("imageGroup/addGroup",this.group).then(t=>{this.$bvToast.toast(t.msg,{title:t.status}),this.$router.push({name:"view-group",params:{groupId:t.id}})})},getVideoData:function(t){this.group.videoDimensions={width:t.target.videoWidth,height:t.target.videoHeight}},play:function(){if(null==this.videoNode)return!1;this.videoNode.paused?(this.videoNode.play(),this.isPaused=!1):(this.videoNode.pause(),this.isPaused=!0)},seek:function(t){this.videoNode.currentTime+=t},saveFrame:function(){this.$bvModal.show("frame-preview");const t=document.createElement("canvas");t.width=this.videoNode.videoWidth,t.height=this.videoNode.videoHeight;const e=t.getContext("2d");e.drawImage(this.videoNode,0,0,t.width,t.height),this.group.images.push(t.toDataURL("image/jpeg"))},addImage:function(){const t=document.querySelector("#frame-preview .modal-body img");this.data.imgDimensions.width=t.width,this.data.imgDimensions.height=t.height,this.data.images.push(t.src)}},mounted:function(){this.videoNode=document.getElementById("video")}},n=s,r=(i("c5dd"),i("2877")),c=Object(r["a"])(n,o,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-844dda60.1f1b0b6c.js.map